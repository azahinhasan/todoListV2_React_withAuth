(this.webpackJsonptodo_list=this.webpackJsonptodo_list||[]).push([[3],{101:function(t,e,o){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}function a(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"===typeof t)return n(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}o.r(e);var r=o(23),i=o(24),s=o(26),d=o(25),u=o(1),c=o(37),l=o.n(c),p=o(18),h=o(89),b=o.n(h),j=o(95),f=o.n(j),g=o(7),_=function(t){Object(s.a)(o,t);var e=Object(d.a)(o);function o(){return Object(r.a)(this,o),e.apply(this,arguments)}return Object(i.a)(o,[{key:"render",value:function(){var t=this;return Object(g.jsxs)("div",{children:[Object(g.jsx)("input",{type:"text",className:f.a.input,value:this.props.state.todoInput,onClick:this.props.hideValueOfInput,onKeyDown:function(e){return"Enter"==e.key?t.props.add():null},onChange:this.props.todoInputUpdate}),Object(g.jsx)("br",{}),Object(g.jsx)("button",{className:b.a.addBtn,onClick:this.props.add,children:"+"}),Object(g.jsx)("div",{className:f.a.line})]})}}]),o}(u.Component),O=o(96),m=o.n(O),v=function(t){Object(s.a)(o,t);var e=Object(d.a)(o);function o(){return Object(r.a)(this,o),e.apply(this,arguments)}return Object(i.a)(o,[{key:"componentDidUpdate",value:function(t,e){return this.props.todos!==t.todos}},{key:"render",value:function(){var t=this,e="";return 0==this.props.todos.length&&(e=Object(g.jsx)("h2",{children:"No Task Left!"})),Object(g.jsxs)("div",{children:[e,Object(g.jsx)("table",{children:Object(g.jsx)("tbody",{children:this.props.todos.map((function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{className:e.inprogress?m.a.dataNotDone:m.a.dataDone,children:e.todo}),Object(g.jsxs)("td",{children:[Object(g.jsx)("button",{className:b.a.button,onClick:t.props.update.bind(t,e.id,e.inprogress),children:"\u2714"}),Object(g.jsx)("div",{className:b.a.divider}),Object(g.jsx)("button",{className:b.a.button,onClick:t.props.delete.bind(t,e.id),children:"\u2716"})]})]},e.id)}))})})]})}}]),o}(u.Component),y=o(33),I=o(27),x=o(42),T=o(97),C=o.n(T),k=function(t){Object(s.a)(o,t);var e=Object(d.a)(o);function o(){return Object(r.a)(this,o),e.apply(this,arguments)}return Object(i.a)(o,[{key:"render",value:function(){return Object(g.jsx)("div",{className:C.a.loader,children:"Loading...."})}}]),o}(u.Component),D=function(t){Object(s.a)(o,t);var e=Object(d.a)(o);function o(){var t;Object(r.a)(this,o);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={updateCounter:0,updatePage:!1,todoInput:"Enter Your ToDo",getTodoCallAgain:!1,todos:[],darkMood:!1,loading:!1},t.addTodo=function(e){"Enter Your ToDo"!=t.state.todoInput&&(y.a.collection("todoList").add({inprogress:!0,timestmp:p.a.firestore.FieldValue.serverTimestamp(),todo:t.state.todoInput,userId:t.props.userId}),t.setState({todoInput:"Enter Your ToDo",updatePage:!0}),t.setState({getTodoCallAgain:!0}))},t.shortData=function(t){var e;return(e=[]).concat.apply(e,a(t)).sort((function(t,e){return t.timestmp<e.timestmp?1:-1}))},t.getTodo=function(){y.a.collection("todoList").where("userId","==",t.props.userId).limit(100).get().then((function(e){var o=[];e.forEach((function(t){var e=t.data().timestmp,n=e&&e.toDate&&e.toDate(),a={id:t.id,todo:t.data().todo,inprogress:t.data().inprogress,timestmp:n};o.push(a)}));t.shortData(o);t.setState({todos:t.shortData(o)}),t.setState({loading:!1}),t.state.getTodoCallAgain&&(console.log("Added::"),t.setState({getTodoCallAgain:!1},(function(){return t.getTodo()})))})).catch((function(t){return console.log(t)})),t.forceUpdate()},t.deleteTodo=function(e){y.a.collection("todoList").doc(e).delete(),t.setState({updatePage:!0,updateCounter:t.state.updateCounter+1,getTodoCallAgain:!0})},t.todoInputUpdate=function(e){t.setState({todoInput:e.target.value})},t.hideValueOfInput=function(){"Enter Your ToDo"==t.state.todoInput&&t.setState({todoInput:""})},t.updateTodo=function(e,o){y.a.collection("todoList").doc(e).update({inprogress:!o}),t.setState({updatePage:!0,updateCounter:t.state.updateCounter+1,getTodoCallAgain:!0}),t.forceUpdate(),t.setState({})},t}return Object(i.a)(o,[{key:"componentDidMount",value:function(){this.setState({loading:!0}),this.getTodo()}},{key:"componentDidUpdate",value:function(){this.state.updatePage&&(this.getTodo(),this.setState({updatePage:!1}))}},{key:"render",value:function(){var t=null;return this.state.loading?t=Object(g.jsx)(k,{}):this.state.todos&&!this.state.loading&&(t=Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:l.a.userName,children:["Hi,",this.props.name.split(" ")[0]]}),Object(g.jsx)("h1",{children:"ToDo List"}),Object(g.jsx)(_,{add:this.addTodo,state:this.state,hideValueOfInput:this.hideValueOfInput,todoInputUpdate:this.todoInputUpdate},4),Object(g.jsx)(v,{todos:this.state.todos,delete:this.deleteTodo,update:this.updateTodo},1)]})),Object(g.jsxs)("div",{children:[Object(g.jsx)("button",{className:(b.a.button,b.a.Logout),onClick:this.props.logOut,children:"LogOut"}),t]})}}]),o}(u.Component);e.default=Object(I.b)((function(t){return{userId:t.auth.userId,name:t.auth.name,signedIn:t.auth.signedIn}}),(function(t){return{getTodo:function(){return t(x.d())},logOut:function(){return t(x.g())}}}))(D)},89:function(t,e,o){t.exports={button:"button__button__3UoNd",buttonClickHere:"button__buttonClickHere__3rAGq",addBtn:"button__addBtn__2BUNW",changeMoodBtn:"button__changeMoodBtn__3FgYo",divider:"button__divider__20PMQ",signInsignUp:"button__signInsignUp__jnl4R",Logout:"button__Logout__2KXyB",withGoogle:"button__withGoogle__fm8Qr",withFacebook:"button__withFacebook__1kAlg"}},95:function(t,e,o){t.exports={input:"todoInput__input__3VuvV",line:"todoInput__line__119ay"}},96:function(t,e,o){t.exports={dataNotDone:"showToDolist__dataNotDone__3xMeM",dataDone:"showToDolist__dataDone__2qvGa"}},97:function(t,e,o){t.exports={loader:"Spinner__loader__21snq"}}}]);
//# sourceMappingURL=3.3ca46a76.chunk.js.map